pipeline {
    agent { label 'daddy'}
    environment {
        PATH = '/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/home/bala/jdk1.8.0_241/bin:/home/bala/apache-maven-3.6.3/bin'
    }
     stages {
        stage ('build') {
           environment {
              PATH = '/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/home/bala/jdk1.8.0_241/bin:/home/bala/apache-maven-3.6.3/bin'
           }
           steps {
              sh 'mvn install'
           }
        }
        stage ('archive artifacts') {
           steps {
              archiveArtifacts '**/*.jar'
           }
        }
        stage ('publish_reports') {
           steps {
              echo 'test results are also done'
           }
        }
    }
}
